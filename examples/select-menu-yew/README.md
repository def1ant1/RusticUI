# RusticUI Select Menu â€” Yew

This package demonstrates how to wire the headless `SelectState` from
`mui-headless` into a Material-themed Yew surface with automation friendly
attributes, async data loading, and SSR parity. All behaviour that would be
shared across frameworks (theme overrides, mocked API, automation ids) lives in
[`examples/select-menu-shared`](../select-menu-shared).

## Prerequisites

```bash
cargo install trunk # required for the CSR workflow
rustup target add wasm32-unknown-unknown
```

## Client-side development

```bash
cd examples/select-menu-yew
trunk serve --open
```

The app hydrates the server snapshot, fetches region data asynchronously, and
keeps the select fully controlled via Yew state hooks. Every interactive element
exposes deterministic `data-automation` attributes so CI tooling can exercise
the workflow without relying on brittle CSS selectors.

Disabled regions can be toggled directly on the headless state machine without
rewriting any adapter code:

```rust
state.set_option_disabled(2, true); // drop the third region from the active list
```

The Material renderer will automatically emit `aria-disabled="true"` and
`data-disabled="true"` for the affected option while keyboard navigation skips
over it. Controlled demos simply synchronize the state through the existing Yew
signals to keep hydration and analytics in lock-step.

## Server-side rendering smoke test

```bash
cargo run --manifest-path examples/select-menu-yew/Cargo.toml --no-default-features --features ssr > ssr.html
```

The resulting `ssr.html` contains a complete HTML document generated by the
shared renderer and wrapped in a themed shell. The same markup is consumed by
`trunk serve` for hydration ensuring no divergence between SSR and CSR renders.
